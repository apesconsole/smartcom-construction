<!--
  Generated template for the SiteLabourEditBillingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Manage Billing</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item-group>
    <ion-item-divider color="primary">Selected Site : {{selectedSite}}, Task Id {{selectedTask}}</ion-item-divider>
	<ion-item color="secondary">
      <ion-label>
      	{{selectedLabour.labourId}}
      </ion-label>
      <ion-label>
        {{selectedLabour.contractor}}
      </ion-label>
      <ion-label>
        {{selectedLabour.rate}}
      </ion-label>      
      <ion-label *ngIf="selectedLabour.contractType == 'per_hour'">Hourly</ion-label>
      <ion-label *ngIf="selectedLabour.contractType == 'per_day'">Daily</ion-label>
      <ion-label *ngIf="selectedLabour.contractType == 'per_week'">Weekly</ion-label>
      <ion-label *ngIf="selectedLabour.contractType == 'per_month'">Monthly</ion-label>
      <ion-label *ngIf="selectedLabour.contractType == 'full_payout'">Full Payout</ion-label>
      <ion-label *ngIf="selectedLabour.contractType == 'partial_payout'">Partial Payout</ion-label>
	</ion-item>
  </ion-item-group>
  <ion-item-group *ngFor="let bill of selectedLabour.billing">
  	<ion-item-divider color="primary">Bill: {{bill.billingId}}</ion-item-divider>
  	<ion-item *ngIf="!bill.approved">
      <ion-label>
        Created By: {{bill.createdBy}}
      </ion-label>  
      <ion-label>
        Create Date: {{bill.createDate}}
      </ion-label> 
  	</ion-item>  
  	<ion-item *ngIf="bill.approved">
      <ion-label>
        Approved By: {{bill.approvedBy}}
      </ion-label>  
      <ion-label>
        Approval Date: {{bill.approvalDate}}
      </ion-label> 
  	</ion-item>  			
	<ion-item color="light" *ngIf="!bill.approved">
		  <ion-label>Amount</ion-label>
		  <ion-input 
			[(ngModel)] = "bill.billingAmount" 
			type="text"   
			#billingAmount="ngModel">		
		  </ion-input>
	</ion-item>	
	<ion-item color="light" *ngIf="bill.approved">
		  <ion-label>Amount</ion-label>
		  <ion-label>{{bill.billingAmount}}</ion-label>
	</ion-item>				
	<ion-item color="light" *ngIf="!bill.approved">
		  <ion-label>Invoice</ion-label>
		  <ion-input 
			[(ngModel)] = "bill.invoice" 
			type="text"   
			#invoice="ngModel">		
		  </ion-input>
	</ion-item>	
	<ion-item color="light" *ngIf="bill.approved">
		  <ion-label>Invoice</ion-label>
		  <ion-label>{{bill.invoice}}</ion-label>
	</ion-item>			
	<ion-item *ngIf="!bill.approved">
      	<button item-end color="primary" ion-button (click)="updateBilling(bill)"> Update </button>  	
      	<button item-end color="secondary" ion-button (click)="approveBilling(bill)"> Approve </button>
      	<button item-end color="danger" ion-button (click)="removeBilling(bill)"> Delete </button>
	</ion-item> 
		
  </ion-item-group>
</ion-content>
