<!--
  Generated template for the SiteLabourEditPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Edit Labour</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item-group>
    <ion-item-divider color="primary">Selected Site : {{selectedSite}}, Task Id {{selectedTask}}</ion-item-divider>
	<ion-item color="light">
		  <ion-label>Labour Id</ion-label>
		  <ion-input 
		  	disabled="true"
			[(ngModel)] = "selectedLabour.labourId" 
			type="text"   
			#labourId="ngModel">		
		  </ion-input>
	</ion-item>
	<ion-item color="light">
		  <ion-label>Contractor</ion-label>
		  <ion-input 
			[(ngModel)] = "selectedLabour.contractor" 
			type="text"   
			#contractor="ngModel">		
		  </ion-input>
	</ion-item>	
	<ion-item color="light">
		  <ion-label>Contract Type</ion-label>
		  <ion-select 
			 [(ngModel)] = "selectedLabour.contractType" 
			 #contractType="ngModel">
			 <ion-option 
			 	*ngFor="let cntrctType of contractTypeList" 
			 	value='{{cntrctType.value}}'>
			 		{{cntrctType.text}}
			 </ion-option>
		  </ion-select>		  
	</ion-item>	
	<ion-item color="light">
		  <ion-label>Rate</ion-label>
		  <ion-input  
			[(ngModel)] = "selectedLabour.rate" 
			type="text"   
			#rate="ngModel">		
		  </ion-input>
	</ion-item>		
	<ion-item color="light">
		  <ion-label>Currency</ion-label>
		  <ion-input 
		  	disabled="true"
			[(ngModel)] = "selectedLabour.currency" 
			type="text"   
			#currency="ngModel">		
		  </ion-input>
	</ion-item>	
	<ion-item color="light">
		  <ion-label>Count</ion-label>
		  <ion-input 
			[(ngModel)] = "selectedLabour.count" 
			type="text"   
			#count="ngModel">		
		  </ion-input>
	</ion-item>			
	<ion-item>
		<button 
			color="primary" 
			ion-button *ngIf="!selectedLabour.approved"
			(click)="editLabour()"> 
			Update 
		</button>
		<button 
			color="primary" 
			ion-button *ngIf="!selectedLabour.approved"
			(click)="approveLabour()"> 
			Approve 
		</button>
		<button 
			color="light" 
			ion-button *ngIf="!canCreateBill">
			Create Bill 
		</button>			
		<button 
			color="primary" 
			ion-button *ngIf="canCreateBill"
			(click)="addLabourBilling()">
			Create Bill 
		</button>			
		<button 
			color="primary" 
			ion-button *ngIf="selectedLabour.approved"
			(click)="editLabourBilling()">
			Manage Billing 
		</button> 
	</ion-item>
  </ion-item-group>
</ion-content>
